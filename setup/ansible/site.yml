- name: Bootstrap Arch Linux development environment
  hosts: localhost
  connection: local
  become: false
  vars:
    git_user_name: "Anton Kesy"
    git_user_email: "anton@kesy.de"
    git_editor: "nvim"
  pre_tasks:
    - name: Update pacman cache
      become: true
      community.general.pacman:
        update_cache: true
  tasks:
    # ==========================================================================
    # CORE - Base system setup
    # ==========================================================================
    - name: Setup AUR helpers
      ansible.builtin.import_tasks: tasks/core/aur-helpers.yml
    - name: Setup base packages
      ansible.builtin.import_tasks: tasks/core/base.yml
    - name: Setup pipx
      ansible.builtin.import_tasks: tasks/core/pipx.yml
    - name: Setup Flatpak and apps
      ansible.builtin.import_tasks: tasks/core/flatpak.yml
    - name: Setup keyring
      ansible.builtin.import_tasks: tasks/core/keyring.yml
    # ==========================================================================
    # DEVELOPMENT - Programming languages and tools
    # ==========================================================================
    - name: Setup Python
      ansible.builtin.import_tasks: tasks/development/python.yml
    - name: Setup Node.js
      ansible.builtin.import_tasks: tasks/development/node.yml
    - name: Setup Go
      ansible.builtin.import_tasks: tasks/development/golang.yml
    - name: Setup Rust
      ansible.builtin.import_tasks: tasks/development/rust.yml
    - name: Setup Java
      ansible.builtin.import_tasks: tasks/development/java.yml
    - name: Setup Haskell
      ansible.builtin.import_tasks: tasks/development/haskell.yml
    - name: Setup OCaml
      ansible.builtin.import_tasks: tasks/development/ocaml.yml
    - name: Setup Lua
      ansible.builtin.import_tasks: tasks/development/lua.yml
    - name: Setup Dart
      ansible.builtin.import_tasks: tasks/development/dart.yml
    - name: Setup Racket
      ansible.builtin.import_tasks: tasks/development/racket.yml
    - name: Setup .NET
      ansible.builtin.import_tasks: tasks/development/dotnet.yml
    - name: Setup C++ tools
      ansible.builtin.import_tasks: tasks/development/cpp.yml
    - name: Setup development tools
      ansible.builtin.import_tasks: tasks/development/dev-tools.yml
    - name: Setup Android development environment
      ansible.builtin.import_tasks: tasks/development/android.yml
    - name: Setup Flutter
      ansible.builtin.import_tasks: tasks/development/flutter.yml
    - name: Setup OpenCV
      ansible.builtin.import_tasks: tasks/development/opencv.yml
    - name: Setup Ruby
      ansible.builtin.import_tasks: tasks/development/ruby.yml
    - name: Setup PHP
      ansible.builtin.import_tasks: tasks/development/php.yml
    - name: Setup R
      ansible.builtin.import_tasks: tasks/development/r.yml
    # ==========================================================================
    # EDITORS - Text editors and IDEs
    # ==========================================================================
    - name: Setup Neovim
      ansible.builtin.import_tasks: tasks/editors/neovim.yml
    - name: Setup VS Code
      ansible.builtin.import_tasks: tasks/editors/vscode.yml
    - name: Setup LaTeX
      ansible.builtin.import_tasks: tasks/editors/latex.yml
    # ==========================================================================
    # TERMINAL - Shell and terminal tools
    # ==========================================================================
    - name: Setup Zsh shell
      ansible.builtin.import_tasks: tasks/terminal/zsh.yml
    - name: Setup terminal tools
      ansible.builtin.import_tasks: tasks/terminal/terminal.yml
    - name: Setup Alacritty
      ansible.builtin.import_tasks: tasks/terminal/alacritty.yml
    - name: Setup CLI tools
      ansible.builtin.import_tasks: tasks/terminal/cli.yml
    # ==========================================================================
    # DESKTOP - Desktop environment and applications
    # ==========================================================================
    - name: Install Hyprland and dependencies
      ansible.builtin.import_tasks: tasks/desktop/hyprland.yml
    - name: Install Linux Dank Shell
      ansible.builtin.import_tasks: tasks/desktop/dankshell.yml
    - name: Install GNOME desktop environment
      ansible.builtin.import_tasks: tasks/desktop/gnome.yml
    - name: Install core desktop packages
      ansible.builtin.import_tasks: tasks/desktop/core.yml
    - name: Setup fonts
      ansible.builtin.import_tasks: tasks/desktop/font.yml
    - name: Setup desktop apps
      ansible.builtin.import_tasks: tasks/desktop/apps.yml
    - name: Make dual-boot with Windows possible
      ansible.builtin.import_tasks: tasks/desktop/windows.yml
    # ==========================================================================
    # HARDWARE - Hardware drivers and configuration
    # ==========================================================================
    - name: Setup Audio
      ansible.builtin.import_tasks: tasks/hardware/audio.yml
    - name: Setup Bluetooth
      ansible.builtin.import_tasks: tasks/hardware/bluetooth.yml
    - name: Setup NVIDIA
      ansible.builtin.import_tasks: tasks/hardware/nvidia.yml
    - name: Setup fingerprint
      ansible.builtin.import_tasks: tasks/hardware/fingerprint.yml
    - name: Setup Dell laptop tools
      ansible.builtin.import_tasks: tasks/hardware/dell-laptop.yml
    # ==========================================================================
    # CONTAINERS - Docker and virtualization
    # ==========================================================================
    - name: Setup Docker
      ansible.builtin.import_tasks: tasks/containers/docker.yml
    - name: Setup VirtualBox
      ansible.builtin.import_tasks: tasks/containers/virtualbox.yml
    # ==========================================================================
    # MISC - Miscellaneous tools and configuration
    # ==========================================================================
    - name: Setup Git
      ansible.builtin.import_tasks: tasks/misc/git.yml
    - name: Setup VPN tools
      ansible.builtin.import_tasks: tasks/misc/vpn.yml
    - name: Setup Unity
      ansible.builtin.import_tasks: tasks/editors/unity.yml
    - name: Setup Webots
      ansible.builtin.import_tasks: tasks/development/webots.yml
    - name: Setup Ollama
      ansible.builtin.import_tasks: tasks/ai/ollama.yml
    # Dotfiles and system config (should run last after all tools are installed)
    - name: Setup dotfiles
      ansible.builtin.import_tasks: tasks/misc/dotfiles.yml
    - name: Setup GRUB configuration
      ansible.builtin.import_tasks: tasks/misc/grub.yml
