---
# Desktop environment (GNOME + Hyprland)

- name: Install desktop packages
  become: true
  pacman:
    name: "{{ desktop_packages }}"
    state: present

- name: Enable desktop services
  become: true
  systemd:
    name: "{{ item }}"
    enabled: true
    state: started
  loop: "{{ desktop_services }}"
  failed_when: false

- name: Install AUR desktop packages
  command: "yay -S --noconfirm --needed {{ item }}"
  loop: "{{ desktop_aur_packages }}"
  changed_when: false
  failed_when: false
